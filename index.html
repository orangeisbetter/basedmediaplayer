<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="media-src 'self' blob:;">
    <title>Based Media Player</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" href="bmp.png" type="image/png">
    <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>
    <script src="dist/main.js"></script>
</head>

<body>
    <template id="template_album">
        <div class="album">
            <div class="cover-box">
                <img class="cover">
            </div>
            <a class="album-name ellipsis"></a>
            <a class="album-artist ellipsis"></a>
        </div>
    </template>
    <template id="tree_list_item">
        <li>
            <span class="caret"></span>
            <span class="icon"><iconify-icon width="16px" height="16px"></iconify-icon></span>
            <span class="label"></span>
            <ul></ul>
        </li>
    </template>
    <template id="tree_list">
        <div class="tree-view">
            <ul></ul>
        </div>
    </template>
    <template id="template_playlist_item">
        <div class="playlist-item" draggable="true">
            <span class="track-name"></span>
            <span class="time"></span>
        </div>
    </template>
    <template id="template_album_view_track">
        <tr>
            <td></td>
            <td class="track-name"></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </template>
    <template id="template_track_list_item">
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </template>
    <template id="template_release_notes_entry">
        <h2>Version <span id="version"></span></h2>
        <h3>New Features</h3>
        <ul id="features"></ul>
        <h3>Changes</h3>
        <ul id="changes"></ul>
        <h3>Bug Fixes / Improvements</h3>
        <ul id="bug_fixes"></ul>
    </template>
    <dialog style="width: 400px" id="load_dialog">
        <div class="content">
            <div>Loading music library...</div>
            <progress id="progress_bar" style="display: block; width: 100%"></progress>
            <div style="text-align: center;" id="loading_lbl"></div>
        </div>
    </dialog>
    <dialog style="width: 600px; overflow-y: hidden" id="release_notes_dialog">
        <div class="content" style="overflow-y: auto">
            <h2>Based Media Player</h2>
            <p>Release notes</p>
            <div id="notes"></div>
        </div>
        <div class="button-bar">
            <div class="glue"></div>
            <button>Close</button>
        </div>
    </dialog>
    <dialog style="width: 600px" id="playver">
        <div class="content">
            <div style="display: flex; flex-direction: row; gap: 1em">
                <img src="bmp.svg" alt="">
                <div style="flex: 1;">
                    <h2 style="margin-block-end: 0">Based Media Player</h2>
                    <p style="margin-block-start: 0">Version <span class="version"></span></p>
                    <p>No bloat. Built with actual use in mind.</p>
                    <p>Please report bugs, suggestions, and other feedback to <a href="mailto:feedback@orangeisbetter.net">feedback@orangeisbetter.net</a>, or create an issue on github at <a href="https://github.com/orangeisbetter/basedmediaplayer" target="_blank">https://github.com/orangeisbetter/basedmediaplayer</a>.</p>
                    <p>Created by Thomas Feyen</p>
                </div>
            </div>
        </div>
        <div class="button-bar">
            <div class="glue"></div>
            <button onclick="playver.close()">Close</button>
        </div>
    </dialog>
    <aside class="sidebar"></aside>
    <header>
        <div id="menubar"></div>
        <!-- <div style="border-left: 1px solid gray; height: 16px"></div> -->
        <!-- <div class="breadcrumbs" style="display: flex; flex-direction: row; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" style="rotate: 90deg">
                <path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z" />
            </svg>
            &nbsp;
            <a>Local Library</a>
            &nbsp;
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" style="rotate: 90deg">
                <path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z" />
            </svg>
            &nbsp;
            <a>Soundtrack</a>
            &nbsp;
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" style="rotate: 90deg">
                <path fill="currentColor" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6l-6 6z" />
            </svg>
            &nbsp;
            <a>The Polar Express (Recording Sessions)</a>
        </div> -->
        <div style="border-left: 1px solid gray; height: 16px"></div>
        <div>Please report bugs or suggestions to <a href="mailto:feedback@orangeisbetter.net">feedback@orangeisbetter.net</a></div>
        <div class="glue"></div>
        <div id="main_view_select" style="display: none">
            <span>View as</span>
            <select>
                <option value="albums">Albums</option>
                <!-- <option value="artists">Artists</option> -->
                <option value="tracks">Tracks</option>
            </select>
        </div>
        <div id="main_view_sort" style="display: none">
            <span>Sort by</span>
            <select>
                <option value="album_artist">Album artist</option>
                <option value="album_name">Album name</option>
            </select>
        </div>
        <input type="search" id="search_bar" placeholder="Start typing to search...">
    </header>
    <div class="main-view">
        <div class="browser-view">
            <div class="albums-list" id="albums_list"></div>
            <div class="artists-list"></div>
            <div class="tracks-list">
                <table>
                    <thead>
                        <tr>
                            <th width="250">Album</th>
                            <th width="200">Album Artist</th>
                            <th width="50">#</th>
                            <th width="300">Title</th>
                            <th width="75">Duration</th>
                            <th width="200">Artist</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="album-view" id="track_list" style="display: none;">
            <div class="column">
                <div class="album-info">
                    <img class="album-cover">
                    <div class="album-name"></div>
                    <div class="album-artist"></div>
                    <div class="actions">
                        <button id="play_all_btn">Play all</button>
                        <button id="shuffle_play_btn">Shuffle play</button>
                        <button id="add_to_playlist_btn">Add to playlist</button>
                    </div>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Title</th>
                            <th>Duration</th>
                            <th>Artist</th>
                            <th>Composer</th>
                        </tr>
                    </thead>
                    <tbody class="selectable-list">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="lyrics-panel" style="display: none;"></div>
    <div class="playlist" id="playlist_panel" style="--width: 300px">
        <div class="playlist-bar">
            <button class="clear" id="playlist_clear_btn">Clear</button>
            <button class="shuffle" id="playlist_clear_btn">Shuffle</button>
        </div>
        <div class="playlist-list selectable-list" id="playlist_list"></div>
        <div class="playlist-info">0 tracks, duration: 0:00</div>
    </div>
    <div class="player">
        <div class="album-info">
            <img class="cover" id="album_cover_img" style="display: none">
            <a class="album-name ellipsis" id="album_name_lbl"></a>
            <a class="album-artist ellipsis" id="album_artist_lbl"></a>
        </div>
        <div class="media">
            <div class="controls">
                <button id="skip_previous_btn" class="square skip-previous" title="Skip to previous track" disabled>
                    <iconify-icon icon="mdi:skip-previous" width="24" height="24"></iconify-icon>
                </button>
                <button id="play_pause_btn" class="square play-pause" title="Toggle playback of the player" disabled>
                    <iconify-icon id="play_icon" icon="mdi:play" width="24" height="24"></iconify-icon>
                </button>
                <button id="skip_next_btn" class="square skip-next" title="Skip to next track" disabled>
                    <iconify-icon icon="mdi:skip-next" width="24" height="24"></iconify-icon>
                </button>
            </div>
            <div class="current-media">
                <span class="track-title ellipsis" id="current_track_title_lbl">Nothing is playing</span>
                <span class="track-time"></span>
                <div class="progress-bar disabled" style="--progress: 0%">
                    <div class="hovercatch"></div>
                    <div class="meter"></div>
                    <div class="thumb"></div>
                </div>
            </div>
        </div>
        <div class="additional-controls">
            <button class="square playlist-toggle" id="playlist_btn" title="Toggle playlist">
                <iconify-icon icon="mdi:playlist-music" width="24" height="24"></iconify-icon>
            </button>
            <button class="square lyrics-view" title="View song lyrics" disabled>
                <iconify-icon icon="mdi:text" width="24" height="24"></iconify-icon>
            </button>
            <div class="separator"></div>
            <button class="square volume-control" style="cursor: ns-resize;" id="volume_ctrl" title="Click and drag to adjust volume.">
                <iconify-icon icon="mdi:volume" width="24" height="24"></iconify-icon>
                <div class="volume-label" id="volume_display" style="display: none">0 dB</div>
            </button>
            <!-- <button class="square shuffle" title="Shuffle" disabled>
                <iconify-icon icon="mdi:shuffle" width="24" height="24"></iconify-icon>
            </button> -->
            <button class="square loop" title="Repeat">
                <iconify-icon icon="mdi:repeat" width="24" height="24"></iconify-icon>
            </button>
        </div>
    </div>
    <span class="dragging-playlist">
        <iconify-icon icon="mdi:music-note" width="96" height="96"></iconify-icon>
        <div class="label"></div>
    </span>
</body>

</html>